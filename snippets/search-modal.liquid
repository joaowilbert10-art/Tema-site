{% comment %}
  Search Modal snippet - Modal de pesquisa
{% endcomment %}

<modal-dialog id="SearchModal" class="search-modal">
  <div class="search-modal__content" role="dialog" aria-label="{{ 'general.search.search' | t }}" aria-modal="true">
    <div class="search-modal__content-header">
      <h2 class="search-modal__content-heading h1">{{ 'general.search.search' | t }}</h2>
      <button class="search-modal__close-button modal__close-button link link--text focus-inset" aria-label="{{ 'accessibility.close' | t }}">
        <svg class="icon icon-close" aria-hidden="true" focusable="false">
          <use href="#icon-close">
        </svg>
      </button>
    </div>
    <div class="search-modal__content-body">
      <form class="search search-modal__form" action="{{ routes.search_url }}" method="get">
        <div class="field">
          <input class="search__input field__input" id="Search-In-Modal" type="search" name="q" value="{{ search.terms | escape }}" placeholder="{{ 'general.search.search' | t }}" {%- if settings.predictive_search_enabled -%}role="combobox" aria-expanded="false" aria-owns="predictive-search-results-list" aria-controls="predictive-search-results-list" aria-haspopup="listbox" aria-autocomplete="list" autocorrect="off" autocomplete="off" autocapitalize="off" spellcheck="false"{%- endif -%}>
          <label class="field__label" for="Search-In-Modal">{{ 'general.search.search' | t }}</label>
          <input type="hidden" name="options[prefix]" value="last">
          <button class="search__button field__button" aria-label="{{ 'general.search.search' | t }}">
            <svg class="icon icon-search" aria-hidden="true" focusable="false">
              <use href="#icon-search">
            </svg>
          </button>
        </div>

        {%- if settings.predictive_search_enabled -%}
          <div class="predictive-search predictive-search--header" tabindex="-1" data-predictive-search>
            <div class="predictive-search__loading-state">
              <svg aria-hidden="true" focusable="false" class="spinner" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
                <circle class="path" fill="none" stroke-width="6" cx="33" cy="33" r="30"></circle>
              </svg>
            </div>
          </div>

          <span class="predictive-search-status visually-hidden" role="status" aria-hidden="true"></span>
        {%- endif -%}
      </form>
    </div>
  </div>
</modal-dialog>
